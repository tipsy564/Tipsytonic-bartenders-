
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIRA - Voice Assistant</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 30px;
            max-width: 400px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 5px;
        }

        .header p {
            color: #666;
            font-size: 0.9em;
        }

        .status {
            text-align: center;
            padding: 15px;
            background: #f0f0f0;
            border-radius: 15px;
            margin-bottom: 20px;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .status-text {
            color: #333;
            font-size: 0.95em;
        }

        .voice-button {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: none;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-size: 2em;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
            transition: all 0.3s ease;
        }

        .voice-button:active {
            transform: scale(0.95);
        }

        .voice-button.listening {
            animation: pulse 1.5s infinite;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 10px 30px rgba(240, 147, 251, 0.4);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 15px 40px rgba(240, 147, 251, 0.6);
            }
        }

        .response-box {
            background: #f9f9f9;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            min-height: 100px;
            border-left: 4px solid #667eea;
        }

        .response-label {
            color: #667eea;
            font-weight: bold;
            font-size: 0.85em;
            margin-bottom: 8px;
        }

        .response-text {
            color: #333;
            line-height: 1.6;
        }

        .info-text {
            text-align: center;
            color: #666;
            font-size: 0.85em;
            margin-top: 15px;
        }

        .wave {
            display: inline-block;
            margin-left: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>MIRA</h1>
            <p>Your Personal Voice Assistant</p>
        </div>

        <div class="status">
            <span class="status-text" id="statusText">Tap the button to speak</span>
        </div>

        <button class="voice-button" id="voiceButton">
            ðŸŽ¤
        </button>

        <div class="response-box">
            <div class="response-label">MIRA's Response:</div>
            <div class="response-text" id="responseText">Hello Sir, I'm MIRA. Tap the microphone and speak to me.</div>
        </div>

        <div class="info-text">
            Say "help" for available commands
        </div>
    </div>

    <script>
        // ============================================
        // MIRA - Mobile Voice Assistant
        // Sweet, Intelligent, Personal
        // ============================================

        // Check for browser support
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        
        if (!SpeechRecognition) {
            alert('Sorry, your browser does not support speech recognition. Please use Google Chrome.');
        }

        // Initialize Speech Recognition
        const recognition = new SpeechRecognition();
        recognition.lang = 'en-IN';
        recognition.continuous = false;
        recognition.interimResults = false;

        // Initialize Speech Synthesis
        const synth = window.speechSynthesis;

        // DOM Elements
        const voiceButton = document.getElementById('voiceButton');
        const statusText = document.getElementById('statusText');
        const responseText = document.getElementById('responseText');

        // State
        let isListening = false;

        // ============================================
        // SWEET RESPONSE ARRAYS (Personality)
        // ============================================

        const greetingResponses = [
            "Hello Sir, nice to hear you.",
            "I'm here, Sir.",
            "Always happy to help.",
            "Yes Sir, what can I do for you?",
            "Hello Sir, how may I assist you today?",
            "I'm listening, Sir.",
            "At your service, Sir."
        ];

        const goodbyeResponses = [
            "Goodbye Sir, take care.",
            "See you soon, Sir.",
            "Have a wonderful day, Sir.",
            "Until next time, Sir.",
            "Take care, Sir. I'll be here when you need me."
        ];

        const unknownResponses = [
            "I didn't quite get that, but I'm listening.",
            "I'm not sure about that, Sir. Could you try again?",
            "I didn't understand that, but I'm here to help.",
            "Sorry Sir, I didn't catch that. Please say it again.",
            "I'm still learning, Sir. Could you rephrase that?"
        ];

        // ============================================
        // VOICE OUTPUT FUNCTION
        // ============================================

        function speak(text) {
            // Cancel any ongoing speech
            synth.cancel();

            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'en-IN';
            utterance.rate = 0.95;
            utterance.pitch = 1.1;
            utterance.volume = 1;

            // Update UI
            responseText.textContent = text;

            // Speak
            synth.speak(utterance);
        }

        // ============================================
        // GET RANDOM RESPONSE FROM ARRAY
        // ============================================

        function getRandomResponse(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        // ============================================
        // COMMAND PROCESSING (Brain of MIRA)
        // ============================================

        function processCommand(command) {
            const cmd = command.toLowerCase().trim();

            // A) GREETINGS
            if (cmd.includes('hello') || cmd.includes('hi') || cmd.includes('hey')) {
                speak(getRandomResponse(greetingResponses));
            }

            // B) NAME MEMORY - Save name
            else if (cmd.includes('my name is')) {
                const name = cmd.split('my name is')[1].trim();
                localStorage.setItem('userName', name);
                speak(`Nice to meet you, ${name}. I'll remember that.`);
            }

            // B) NAME MEMORY - Recall name
            else if (cmd.includes('what is my name') || cmd.includes('do you know my name')) {
                const savedName = localStorage.getItem('userName');
                if (savedName) {
                    speak(`Your name is ${savedName}.`);
                } else {
                    speak("You haven't told me your name yet, Sir.");
                }
            }

            // WHO ARE YOU
            else if (cmd.includes('who are you') || cmd.includes('what is your name')) {
                speak("I'm MIRA, your personal voice assistant. I'm here to help you, Sir.");
            }

            // WHO CREATED YOU
            else if (cmd.includes('who created you') || cmd.includes('who made you')) {
                speak("I was created by my wonderful developer. I'm designed to assist you, Sir.");
            }

            // TIME
            else if (cmd.includes('time')) {
                const now = new Date();
                const hours = now.getHours();
                const minutes = now.getMinutes();
                const ampm = hours >= 12 ? 'PM' : 'AM';
                const hour12 = hours % 12 || 12;
                speak(`It's ${hour12}:${minutes.toString().padStart(2, '0')} ${ampm}, Sir.`);
            }

            // DATE
            else if (cmd.includes('date')) {
                const now = new Date();
                const options = { year: 'numeric', month: 'long', day: 'numeric' };
                const dateStr = now.toLocaleDateString('en-IN', options);
                speak(`Today is ${dateStr}, Sir.`);
            }

            // DAY
            else if (cmd.includes('day')) {
                const now = new Date();
                const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
                const day = days[now.getDay()];
                speak(`Today is ${day}, Sir.`);
            }

            // OPEN GOOGLE
            else if (cmd.includes('open google')) {
                speak("Opening Google for you, Sir.");
                window.open('https://www.google.com', '_blank');
            }

            // OPEN YOUTUBE
            else if (cmd.includes('open youtube')) {
                speak("Opening YouTube for you, Sir.");
                window.open('https://www.youtube.com', '_blank');
            }

            // SEARCH GOOGLE
            else if (cmd.includes('search for') || cmd.includes('google search')) {
                let query = '';
                if (cmd.includes('search for')) {
                    query = cmd.split('search for')[1].trim();
                } else if (cmd.includes('google search')) {
                    query = cmd.split('google search')[1].trim();
                }
                
                if (query) {
                    speak(`Searching for ${query}, Sir.`);
                    window.open(`https://www.google.com/search?q=${encodeURIComponent(query)}`, '_blank');
                } else {
                    speak("What would you like me to search for, Sir?");
                }
            }

            // FLIP A COIN
            else if (cmd.includes('flip a coin') || cmd.includes('toss a coin')) {
                const result = Math.random() < 0.5 ? 'Heads' : 'Tails';
                speak(`It's ${result}, Sir.`);
            }

            // ROLL A DICE
            else if (cmd.includes('roll a dice') || cmd.includes('roll dice')) {
                const result = Math.floor(Math.random() * 6) + 1;
                speak(`You rolled a ${result}, Sir.`);
            }

            // HELP
            else if (cmd.includes('help')) {
                speak("You can ask me about time, date, day, search Google, open websites, flip a coin, roll a dice, or just say hello. I can also remember your name if you tell me.");
            }

            // GOODBYE
            else if (cmd.includes('goodbye') || cmd.includes('bye') || cmd.includes('see you')) {
                speak(getRandomResponse(goodbyeResponses));
            }

            // FALLBACK - Unknown command
            else {
                speak(getRandomResponse(unknownResponses));
            }
        }

        // ============================================
        // SPEECH RECOGNITION EVENT HANDLERS
        // ============================================

        recognition.onstart = () => {
            isListening = true;
            voiceButton.classList.add('listening');
            statusText.textContent = 'Listening...';
        };

        recognition.onresult = (event) => {
            const transcript = event.results[0][0].transcript;
            statusText.textContent = `You said: "${transcript}"`;
            processCommand(transcript);
        };

        recognition.onerror = (event) => {
            console.error('Speech recognition error:', event.error);
            statusText.textContent = 'Error occurred. Please try again.';
            voiceButton.classList.remove('listening');
            isListening = false;
        };

        recognition.onend = () => {
            isListening = false;
            voiceButton.classList.remove('listening');
            if (statusText.textContent === 'Listening...') {
                statusText.textContent = 'Tap the button to speak';
            }
        };

        // ============================================
        // VOICE BUTTON CLICK HANDLER
        // ============================================

        voiceButton.addEventListener('click', () => {
            if (isListening) {
                recognition.stop();
            } else {
                try {
                    recognition.start();
                } catch (error) {
                    console.error('Error starting recognition:', error);
                }
            }
        });

        // ============================================
        // INITIAL GREETING
        // ============================================

        window.addEventListener('load', () => {
            const savedName = localStorage.getItem('userName');
            if (savedName) {
                setTimeout(() => {
                    speak(`Hello ${savedName}, I'm ready to assist you.`);
                }, 500);
            }
        });

    </script>
</body>
</html>
